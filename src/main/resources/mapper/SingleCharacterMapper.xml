<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.chenhongliang.namegenerator.mapper.SingleCharacterMapper">
    
    <select id="findAll" resultType="com.chenhongliang.namegenerator.model.SingleCharacterModel">
        select * from single_character
    </select>

    <select id="isExist" parameterType="String" resultType="Boolean">
        select count(*)
        from single_character
        <where>
            `character` = #{character}
        </where>
    </select>

    <insert id="insert" parameterType="SingleCharacterModel" useGeneratedKeys="true" keyProperty="id">
        insert into single_character
        <trim prefix="(" suffix=")" suffixOverrides=",">
            `character`,
            pinyin,
            <if test="meaning != null and meaning != ''">meaning,</if>
            <if test="wuxing != null and wuxing != ''">wuxing,</if>
            <if test="idiom != null and idiom != ''">idiom,</if>
            <if test="poetry != null and poetry != ''">poetry,</if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            #{character},
            #{pinyin},
            <if test="meaning != null and meaning != ''">#{meaning},</if>
            <if test="wuxing != null and wuxing != ''">#{wuxing},</if>
            <if test="idiom != null and idiom != ''">#{idiom},</if>
            <if test="poetry != null and poetry != ''">#{poetry},</if>
        </trim>
    </insert>

    <update id="update" parameterType="SingleCharacterModel">
        update single_character
        <trim prefix="SET" suffixOverrides=",">
            <if test="boy">boy = #{boy},</if>
            <if test="girl">girl = #{girl},</if>
        </trim>
        where `character` = #{character}
    </update>

</mapper>